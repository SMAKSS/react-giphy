(this.webpackJsonpgallereasy=this.webpackJsonpgallereasy||[]).push([[0],{27:function(e,t,a){e.exports=a(40)},32:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=(a(32),a(5)),s=a(6),l=a(8),m=a(7),d=a(9),u=a(11),p=a(10),f=function(e){return r.a.createElement("nav",{className:"app-navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"app-title__wrapper"},r.a.createElement(u.b,{to:"/"},r.a.createElement("p",{className:"app-title"},e.title))),r.a.createElement("div",{className:"app-menu__wrapper"},e.children)))},v=function(e){return r.a.createElement("button",{className:"btn-more",onClick:e.onClick},e.children)},h=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"grid-item__skeleton"}),r.a.createElement("div",{className:"grid-item__skeleton"}),r.a.createElement("div",{className:"grid-item__skeleton"}),r.a.createElement("div",{className:"grid-item__skeleton"}),r.a.createElement("div",{className:"grid-item__skeleton"}),r.a.createElement("div",{className:"grid-item__skeleton"}),r.a.createElement("div",{className:"grid-item__skeleton"}),r.a.createElement("div",{className:"grid-item__skeleton"}))},g=a(26),b=function(e){var t=Object(n.useState)(e.query),a=Object(g.a)(t,2),c=a[0],o=a[1];return r.a.createElement("form",{className:"component-form"},r.a.createElement("input",{name:"query",type:"text",className:"component-searchbar",placeholder:"Start searching for images!",autoFocus:!0,value:c,onChange:function(t){var a=t.target,n=a.name,r=a.value;o(r),e.onSearchChanged(n,r)},onKeyPress:e.onKeyPressed}))},E=function(e){return r.a.createElement("footer",{className:"app-footer"},e.children)},O=a(17),y=a.n(O),k=a(19),j=a(25),N=a(18),_=function(e,t,a){var n="".concat("https://api.giphy.com/v1/stickers/search","?api_key=").concat("qbe7wOx7Xjd2Hnx9UDgv1TJHQZ2UZtIW","&q=").concat(e,"&limit=").concat(t,"&offset=").concat(a);return fetch(n,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}))};function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(N.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onSearchChanged=function(e,t){var n=a.state.searchParams;a.setState({searchParams:I({},n,Object(N.a)({},e,t))})},a.onKeyPressed=function(e){var t=e.key,n=a.state.searchParams;"Enter"===t&&(n=I({},n,{offset:0}),e.preventDefault(),a.setState({dataImg:[],searchParams:n,isLoaded:!1},(function(){return a.fetchImg(n.query,n.limit,n.offset)})))},a.onLoadMoreClicked=function(){var e=a.state.searchParams;e.offset=e.offset+8,a.fetchImg(e.query,e.limit,e.offset),a.setState({searchParams:e})},a.fetchImg=function(){var e=Object(j.a)(y.a.mark((function e(t,n,r){var c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),c=a.state.dataImg,e.prev=2,e.next=5,_(t,n,r);case 5:o=e.sent,a.setState({dataImg:[].concat(Object(k.a)(c),Object(k.a)(o.data))}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),a.setState({isLoading:!1,isLoaded:!0});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),a.state={searchParams:{query:"",limit:8,offset:0},dataImg:[],isLoading:!1,isLoaded:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchParams,a=e.dataImg,n=e.isLoading,c=e.isLoaded,o=this.props,i=o.favImg,s=o.onFavClicked;return r.a.createElement("div",null,r.a.createElement(b,{query:t.query,onSearchChanged:this.onSearchChanged,onKeyPressed:this.onKeyPressed}),r.a.createElement("div",{className:"grid-row"},c&&r.a.createElement(r.a.Fragment,null,a.length>0?a.map((function(e){var t=e.images.original.url,a=-1!==i.findIndex((function(t){return t.id===e.id}));return r.a.createElement("div",{className:"grid-item",key:e.id},r.a.createElement("div",{className:"grid-content"},r.a.createElement("img",{src:t,alt:"img"}),r.a.createElement("div",{className:"fav-btn__wrapper",onClick:function(){return s(e.id,t)}},r.a.createElement("div",{className:"fav-btn ".concat(a?"favorited":"")}))))})):r.a.createElement("div",{className:"blank-data__wrapper"},r.a.createElement("p",{className:"blank-data"},"Sorry, we couldn't find images with that keyword"))),r.a.createElement("div",{className:"btn-more__wrapper"},c&&a.length>=8&&!n&&r.a.createElement(v,{onClick:this.onLoadMoreClicked},"Load more images!")),n&&r.a.createElement(h,null)))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("favImg"))||[];return r.a.createElement("div",{className:"grid-row"},t.length>0?t.map((function(a){var n=a.srcImg,c=-1!==t.findIndex((function(e){return e.id===a.id}));return r.a.createElement("div",{className:"grid-item",key:a.id},r.a.createElement("div",{className:"grid-content"},r.a.createElement("img",{src:n,alt:"img"}),r.a.createElement("div",{className:"fav-btn__wrapper",onClick:function(){return e.props.onFavClicked(a.id,n)}},r.a.createElement("div",{className:"fav-btn ".concat(c?"favorited":"")}))))})):r.a.createElement("div",{className:"blank-data__wrapper"},r.a.createElement("p",{className:"blank-data"},"Oops, you don't have any favourited images yet")),r.a.createElement("div",{className:"btn-more__wrapper"},t.length>=8&&r.a.createElement("button",{className:"btn-more",onClick:this.onLoadMoreClicked},"Load more images!")))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onFavClicked=function(e,t){var n=JSON.parse(localStorage.getItem("favImg"))||[];-1!==n.findIndex((function(t){return t.id===e}))?n=n.filter((function(t){return t.id!==e})):n.push({id:e,srcImg:t}),a.setState({favImg:n}),localStorage.setItem("favImg",JSON.stringify(n))},a.state={favImg:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("favImg"))||[],t=this.props.location.pathname;return r.a.createElement("div",{className:"App"},r.a.createElement(f,{title:"GallerEasy"},r.a.createElement(u.b,{to:"/"},r.a.createElement("p",{className:"app-menu ".concat("/"===t?"active":"")},"Search")),r.a.createElement(u.b,{to:"/fav"},r.a.createElement("p",{className:"app-menu ".concat("/fav"===t?"active":"")},"Favourites ","".concat(e.length?"(".concat(e.length,")"):"")))),r.a.createElement("div",{className:"container"},"/"===t&&r.a.createElement(C,{favImg:e,onFavClicked:this.onFavClicked}),"/fav"===t&&r.a.createElement(S,{favImg:e,onFavClicked:this.onFavClicked})),r.a.createElement(E,null,r.a.createElement("p",null,"GallerEasy | 2359 Media")))}}]),t}(n.Component),x=[{path:"/",component:P,exact:!0},{path:"/fav",component:P,exact:!0}],L=(a(39),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,{basename:"/"},r.a.createElement(p.c,null,x.map((function(e){return r.a.createElement(p.a,{key:e.path,path:e.path,component:e.component,exact:e.exact})}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.315a2658.chunk.js.map